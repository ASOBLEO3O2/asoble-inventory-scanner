body{margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont;background:#0b1220;color:#e5e7eb}
header{padding:14px;font-size:20px;font-weight:700}

.badges{display:flex;flex-wrap:wrap;gap:8px;padding:0 14px 8px}
.badge{background:#1e293b;padding:6px 10px;border-radius:999px;font-size:13px}

main{padding:14px}
.card{background:#111827;border-radius:14px;padding:14px;margin-bottom:14px}

button{background:#1e40af;color:#fff;border:none;border-radius:10px;padding:10px 14px;font-size:15px}
button.secondary{background:#334155}

input{width:100%;padding:14px;font-size:16px;border-radius:12px;border:1px solid #334155;background:#020617;color:#fff}
.small{font-size:13px}
.muted{color:#94a3b8;white-space:pre-line}

.ok{color:#22c55e}
.ng{color:#ef4444}

.storeGrid{margin-top:10px}
.storeCard{
  display:block;background:#020617;border-radius:12px;padding:14px;
  margin-bottom:10px;text-decoration:none;color:#fff
}

.stack{margin-top:10px;display:flex;flex-direction:column;gap:10px}

.remainList{margin-top:10px;white-space:pre-wrap}

/* 進捗バー */
.progressWrap{margin-top:10px}
.progressBar{width:100%;height:12px;background:#0b1020;border:1px solid #334155;border-radius:999px;overflow:hidden}
.progressFill{height:100%;width:0%;background:#22c55e}

/* 完了オーバーレイ */
#doneOverlay{position:fixed;inset:0;display:none;background:rgba(0,0,0,.55);align-items:center;justify-content:center;z-index:9999}
#doneCard{width:min(560px, calc(100vw - 28px));background:#111827;border:1px solid #334155;border-radius:18px;padding:18px;text-align:center}
#doneTitle{font-size:22px;font-weight:800;margin-bottom:6px}
#doneSub{color:#94a3b8;margin-bottom:14px}

/* スキャン済みグレーアウト */
.hitRow{padding:8px 10px;border-radius:12px;border:1px solid #334155;background:#0b1220}
.hitRow.okRow{border-color:#1f6f3a;background:#07140d}
.hitRow.done{opacity:.45;filter:grayscale(1)}
.hitRow .meta{display:flex;flex-wrap:wrap;gap:8px;align-items:baseline}
.hitRow .code{font-weight:800}
.hitRow .machine{color:#cbd5e1}
.hitRow .tag{font-size:12px;padding:2px 8px;border-radius:999px;background:#0f172a;border:1px solid #334155;color:#cbd5e1}

/* ===== カメラ全画面モーダル ===== */
#camModal{
  position:fixed; inset:0;
  display:none;
  background:#000;
  z-index:9998;
}
#camTop{
  position:absolute; top:0; left:0; right:0;
  display:flex; gap:10px; align-items:center; justify-content:space-between;
  padding:10px;
  background:linear-gradient(to bottom, rgba(0,0,0,.7), rgba(0,0,0,0));
  z-index:2;
}
#camHint{font-size:13px;color:#e5e7eb;opacity:.9}
#qrReader{position:absolute; inset:0}

/* html5-qrcodeが描く緑枠（scan region）を消す */
#qrReader__scan_region{border:none !important;}
#qrReader__scan_region video{outline:none !important;}

/* ガイド文（赤線は目安） */
#qrReader::before{
  content:"シール全体を枠の中へ（赤線は目安）";
  position:absolute; top:56px; left:0; right:0;
  text-align:center; font-size:13px; color:#ff9aa2;
  z-index:3; pointer-events:none;
}
/* 赤線（薄く） */
#qrReader::after{
  content:""; position:absolute; top:50%; left:10%;
  width:80%; height:2px; background:#ff3b30; opacity:.25;
  z-index:3; pointer-events:none;
}

/* 四隅コーナー */
#camFrame{
  position:absolute;
  left:14px; right:14px;
  top:120px; bottom:14px;
  z-index:3;
  pointer-events:none;
}
.corner{
  position:absolute;width:34px;height:34px;border:3px solid rgba(34,197,94,.85);
  border-right:none;border-bottom:none;border-radius:10px;
}
.corner.tl{left:0;top:0}
.corner.tr{right:0;top:0;transform:rotate(90deg)}
.corner.br{right:0;bottom:0;transform:rotate(180deg)}
.corner.bl{left:0;bottom:0;transform:rotate(270deg)}
